---
title: MySQL Aggregate Functions
slug: mysql-aggregate-functions
date: 2020-10-05
category: MySQL
---

import { Link } from 'gatsby'

Content is from [The Ultimate MySQL Bootcamp](https://www.udemy.com/course/the-ultimate-mysql-bootcamp-go-from-sql-beginner-to-expert) by Colt Steele on Udemy.

<h3>The Count Function</h3>
`SELECT COUNT(*) from BOOKS;`
`SELECT COUNT(DISTINCT author_fname) FROM books;`

<p>Title that has 'the' in it</p>

```mysql
SELECT
COUNT(*)
FROM books 
WHERE title 
LIKE '%the%';
```

<h3>The GROUPBY Function</h3>
<p>Groups by given parameter and will only show one of them. Creates 'mega-rows'</p>

`SELECT author_lname FROM books GROUP BY author_lname;`

<p>To count how many things are under the 'mega-row'</p>

`SELECT author_lname COUNT(*) FROM books GROUP BY author_lname;`

<h3>MAX/MIN</h3>

```mysql
SELECT MIN(pages)
FROM books;
```

<h3>SUBQUERIES</h3>
<ul>
  <li>prints title and page of the longest book</li>
  <li>Can be slow</li>
</ul>

```mysql
SELECT title, pages 
FROM books
WHERE pages = (SELECT MAX(pages) FROM books);

<!-- OR -->

SELECT title, pages 
FROM books
ORDER BY pages
LIMIT 1;

```

<p>Find the year each author published their first book</p>

```mysql
SELECT author_fname, author_lname, MIN(released_year)
FROM books
GROUP BY author_lname, author_fname;
```

<p>Find the longest page count for each author</p>

```mysql 
SELECT 
  CONCAT(author_fname, ' ', author_lname) AS 'author'
  MAX(pages) AS 'longest books'
FROM pages
GROUP BY author_lname, author_fname;

```

<h3>SUM</h3>
<p>Sum all pages each author has written</p>

```mysql
SELECT author_fname, author_lname, SUM(pages)
FROM books
GROUP BY author_lname, author_fname;

```

<h3>AVG</h3>

```mysql
SELECT AVG(stock_quantity)
FROM books
GROUP BY released_year;

```